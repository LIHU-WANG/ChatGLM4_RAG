# GLM-4-RAG

向量库构建：对于向量库构建，首先基于“段落-句子”的双层分片策略，对巡检案例进行分片，将长文档切分为上下文连贯的独立单元，以提升知识检索的准确性和效率。其中，双层分片策略是结合段落和句子两个层面，旨在平衡精准匹配与全面的上下文信息。段落层面，保持较大的知识单元，提供丰富的上下文信息，而句子层面，则确保精准的语义匹配。其次，采用哈希映射技术，通过计算每个语义单元的哈希值，建立语义单元的唯一索引，进而实现数据的存储与向量库构建。

风险信息识别：当提出风险信息识别问题时，首先进行句子层面的语义相似性计算，并根据计算结果获取对应的上下文信息。然后，将检索的前5项结果作为提示信息，与用户问题相结合，共同作为ChatGLM4的输入。最后，ChatGLM4根据输入信息，从巡检文本中提取风险信息。如图4所示，当需要提取巡检文本中的风险事件时，可根据问题信息从向量库中检索相关案例。ChatGLM4根据检索的相关案例，可以更好地理解当前风险在不同场景下的含义，进而更加准确的获取巡检文本中的事故名称。经过工程事故信息识别后，获取巡检文本中的风险地点，风险时间，风险因子，风险后果4类信息。
