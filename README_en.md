# GLM-4-RAG

Vector Repository Construction: For repository construction, a dual-layer segmentation strategy based on ‘paragraph-sentence’ units is first applied to patrol case documents. This divides lengthy texts into contextually coherent independent units, enhancing retrieval accuracy and efficiency. The dual-layer segmentation strategy combines paragraph and sentence levels to balance precise matching with comprehensive contextual information. At the paragraph level, larger knowledge units are maintained to provide rich contextual information, while the sentence level ensures precise semantic matching. Subsequently, hash mapping technology is employed to compute the hash value of each semantic unit, establishing a unique index for these units to facilitate data storage and vector library construction.

Risk Information Identification: When addressing risk information identification queries, semantic similarity calculations are first performed at the sentence level, with corresponding contextual information retrieved based on these results. Subsequently, the top five retrieved results serve as prompt information, combined with the user query to form the input for ChatGLM4. Finally, ChatGLM4 extracts risk information from inspection texts based on this input. As illustrated in Figure 4, when extracting risk events from inspection texts, relevant cases can be retrieved from the vector library based on query information. By analysing these retrieved cases, ChatGLM4 gains a deeper understanding of the current risk's meaning across different scenarios, thereby more accurately identifying accident names within inspection texts. Following the identification of engineering accident information, four categories of risk data are extracted from the inspection text: risk location, risk time, risk factors, and risk consequences.
